---
import { SITE_TITLE } from "../consts";
import HeaderLink from "./HeaderLink.astro";
---

<header class="w-full bg-transparent border-b border-border/40">
  <div class="max-w-3xl mx-auto px-6 py-8 flex items-center justify-between">
    <h1 class="brand text-base">
      <a class="inline-flex items-center gap-2 no-underline" href="/">
        <span>{SITE_TITLE}</span>
      </a>
    </h1>

    <nav class="hidden md:flex items-center gap-8">
      <HeaderLink class="nav-link" href="/">Home</HeaderLink>
      <HeaderLink class="nav-link" href="/blog">Blog</HeaderLink>
      <HeaderLink class="nav-link" href="/about">About</HeaderLink>
    </nav>

    <!-- Mobile hamburger -->
    <div class="md:hidden">
      <button
        id="mobile-menu-toggle"
        aria-expanded="false"
        aria-controls="mobile-menu"
        class="p-2 -mr-2 rounded-md hover:bg-surface transition-colors"
        title="Open menu"
      >
        <svg
          id="hamburger-open"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          aria-hidden="true"
        >
          <path
            d="M3 12h18M3 6h18M3 18h18"
            stroke-width="2"
            stroke-linecap="round"></path>
        </svg>
        <svg
          id="hamburger-close"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          aria-hidden="true"
          style="display:none;"
        >
          <path d="M18 6L6 18M6 6l12 12" stroke-width="2" stroke-linecap="round"
          ></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile nav overlay -->
  <div
    id="mobile-menu"
    class="fixed inset-0 z-40 hidden bg-background/95 backdrop-blur-md"
  >
    <div class="max-w-md mx-auto mt-24 px-6">
      <nav class="flex flex-col gap-6">
        <a
          href="/"
          class="text-xl font-medium hover:text-accent transition-colors"
          >Home</a
        >
        <a
          href="/blog"
          class="text-xl font-medium hover:text-accent transition-colors"
          >Blog</a
        >
        <a
          href="/about"
          class="text-xl font-medium hover:text-accent transition-colors"
          >About</a
        >
      </nav>
    </div>
  </div>

  <script src="/js/mobile-menu.js" defer></script>
</header>
